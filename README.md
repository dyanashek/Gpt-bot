# Telegram AI_GPT
## Change language: [English](README.en.md)
***
Бот-консультант обученный на собственных данных, на базе botsonic. Помогает ответить на вопросы и записаться на консультацию.
## [LIVE](https://t.me/Inside_company_Bot)
## [DEMO](README.demo.md)
## Функционал:
1. Отвечает на вопросы исходя из контекста беседы
2. Принимает заявки
3. Предоставляет возможность связаться с менеджером
4. Реализован механизм очереди запросов и экспоненциального роста задержки ответа
## Команды:
**Для удобства рекомендуется добавить данные команды в боковое меню бота, используя [BotFather](https://t.me/BotFather).**
- restart - сбрасывает историю переписки с ботом;
- help - предоставляет список доступных команд;

## Установка и использование:
- Установить зависимости:
```sh
pip install -r requirements.txt
```
- в файле .env указать:
  - Токен телеграмм бота: **TELEBOT_TOKEN**=ТОКЕН
  - ID бота: **BOT_ID**=ID (первые цифры из токена бота, до :)
  - Username менеджера - на указанный профиль введет кнопка "менеджер": **MANAGER_USERNAME**=example (указывается без @)
  - Название google таблицы: **SPREAD_NAME**=gpt
  - Название листа, на который бот вносит информацию: **LIST_BOT**=заявки
  - Токен botsonic: **AI_TOKEN**=ТОКЕН
  - Endpoint botsoinc: **AI_ENDPOINT**=ТОКЕН
  - Интервал обнуления сообщений (в минутах): **RENEW_TIME**=2
  - Значение, для расчета экспоненциальной задержки: **EXPONENT**=10.
- получить файл c credentials (параметрами для подключения):\
https://console.cloud.google.com/ \
https://www.youtube.com/watch?v=bu5wXjz2KvU - инструкция с 00:00 по 02:35\
Полученный файл сохранить в корне проекта, с именем **service_account.json**
- предоставить сервисному e-mail доступ к таблице (инструкция в видео по ссылке выше)
- запустить проект:
```sh
python3 main.py
```

## Особенности использования: 
1. Шапка листа с заявками заполняется ботом самостоятельно, перед запуском достаточно создать таблицу и лист с заданными в файле .env названиями.